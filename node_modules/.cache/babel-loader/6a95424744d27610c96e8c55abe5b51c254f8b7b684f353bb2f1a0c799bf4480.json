{"ast":null,"code":"var _jsxFileName = \"F:\\\\LBI\\\\Project Penilian Asisten\\\\frontend\\\\src\\\\components\\\\UserList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserList = () => {\n  _s();\n  const [users, setUser] = useState([]);\n  const [pelanggarans, setPelanggarans] = useState([]);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    // Ambil data pengguna berdasarkan ID\n    axios.get(`http://localhost:5000/users/${id}`).then(response => {\n      setUser(response.data);\n    }).catch(error => {\n      console.error(\"Error fetching user data:\", error);\n    });\n\n    // Ambil semua data pelanggaran\n    axios.get(\"http://localhost:5000/pelanggarans\").then(response => {\n      // Filter pelanggaran berdasarkan ID pengguna\n      const filteredPelanggarans = response.data.filter(pelanggaran => pelanggaran.user === id);\n\n      // Hitung total Kurangpoint dari pelanggaran-pelanggaran tersebut\n      const totalKurangpoint = filteredPelanggarans.reduce((total, pelanggaran) => total + pelanggaran.Kurangpoint, 0);\n      const sebenarnya = 100 - totalKurangpoint;\n\n      // Set state pelanggarans dan total Kurangpoint\n      setPelanggarans(filteredPelanggarans);\n\n      // Update jumlah point user\n      axios.patch(`http://localhost:5000/users/${id}`, {\n        point: sebenarnya\n      }).then(response => {\n        // Jika pembaruan berhasil, perbarui state user\n        setUser(response.data);\n      }).catch(error => {\n        console.error(\"Error updating user point:\", error);\n      });\n    }).catch(error => {\n      console.error(\"Error fetching pelanggaran data:\", error);\n    });\n  }, [id]);\n  useEffect(() => {\n    getUsers();\n  }, []);\n  const getUsers = async () => {\n    const response = await axios.get(\"http://localhost:5000/users\");\n    setUser(response.data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns is-centered\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-four-fifths\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"add\",\n          className: \"button is-primary is-rounded\",\n          children: \"Tambah\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table is-fullwidth is-striped is-hoverable is-responsive\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Point\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: users.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.point\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `edit/${user._id}`,\n                    className: \"button is-warning is-rounded\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"button is-danger is-rounded\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: `detail/${user._id}`,\n                    className: \"button is-info is-rounded\",\n                    children: \"Detail\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this)]\n              }, user._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(UserList, \"aM0PyXGG3BeHtUmLj5natTvR8MI=\", false, function () {\n  return [useParams];\n});\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useParams","jsxDEV","_jsxDEV","UserList","_s","users","setUser","pelanggarans","setPelanggarans","id","get","then","response","data","catch","error","console","filteredPelanggarans","filter","pelanggaran","user","totalKurangpoint","reduce","total","Kurangpoint","sebenarnya","patch","point","getUsers","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","map","index","name","email","_id","_c","$RefreshReg$"],"sources":["F:/LBI/Project Penilian Asisten/frontend/src/components/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link,useParams } from \"react-router-dom\";\r\n\r\nconst UserList = () => {\r\n  const [users, setUser] = useState([]);\r\n  const [pelanggarans, setPelanggarans] = useState([]);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    // Ambil data pengguna berdasarkan ID\r\n    axios\r\n      .get(`http://localhost:5000/users/${id}`)\r\n      .then((response) => {\r\n        setUser(response.data);\r\n      })    \r\n      .catch((error) => {\r\n        console.error(\"Error fetching user data:\", error);\r\n      });\r\n  \r\n    // Ambil semua data pelanggaran\r\n    axios\r\n      .get(\"http://localhost:5000/pelanggarans\")\r\n      .then((response) => {\r\n        // Filter pelanggaran berdasarkan ID pengguna\r\n        const filteredPelanggarans = response.data.filter(\r\n          (pelanggaran) => pelanggaran.user === id\r\n        );\r\n  \r\n        // Hitung total Kurangpoint dari pelanggaran-pelanggaran tersebut\r\n        const totalKurangpoint = filteredPelanggarans.reduce(\r\n          (total, pelanggaran) => total + pelanggaran.Kurangpoint,\r\n          0\r\n        );\r\n        const sebenarnya = 100 - totalKurangpoint;\r\n  \r\n        // Set state pelanggarans dan total Kurangpoint\r\n        setPelanggarans(filteredPelanggarans);\r\n  \r\n        // Update jumlah point user\r\n        axios.patch(`http://localhost:5000/users/${id}`, { point: sebenarnya })\r\n          .then((response) => {\r\n            // Jika pembaruan berhasil, perbarui state user\r\n            setUser(response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error updating user point:\", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching pelanggaran data:\", error);\r\n      });\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  const getUsers = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/users\");\r\n    setUser(response.data);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"columns is-centered\">\r\n        <div className=\"column is-four-fifths\">\r\n          <Link to={\"add\"} className=\"button is-primary is-rounded\">\r\n            Tambah\r\n          </Link>\r\n          <div className=\"table-container\">\r\n            <table className=\"table is-fullwidth is-striped is-hoverable is-responsive\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No</th>\r\n                  <th>Name</th>\r\n                  <th>Email</th>\r\n                  <th>Point</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map((user, index) => (\r\n                  <tr key={user._id}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{user.name}</td>\r\n                    <td>{user.email}</td>\r\n                    <td>{user.point}</td>\r\n                    <td>\r\n                      <Link to={`edit/${user._id}`} className=\"button is-warning is-rounded\">\r\n                        Edit\r\n                      </Link>\r\n                      <button className=\"button is-danger is-rounded\">\r\n                        Delete\r\n                      </button>\r\n                      <Link to={`detail/${user._id}`} className=\"button is-info is-rounded\">\r\n                        Detail\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}