{"ast":null,"code":"import _regeneratorRuntime from\"F:/LBI/FE_BI/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/LBI/FE_BI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/LBI/FE_BI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserList=function UserList(){var _ref,_ref2;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUser=_useState2[1];useEffect(function(){getUsers();},[]);var getUsers=function getUsers(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/users\");case 2:response=_context.sent;setUser(response.data);case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};var deleteUser=function deleteUser(_x){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:5000/users/\".concat(id));case 3:getUsers();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}))).apply(this,arguments);};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"columns is-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"column is-four-fifths\",children:[/*#__PURE__*/_jsx(Link,{to:\"add\",className:\"button is-primary is-rounded\",children:\"Tambah\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-fullwidth is-striped is-hoverable is-responsive\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Point\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.point}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"edit/\".concat(user._id),className:\"button is-warning is-rounded\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteUser(user._id);},className:\"button is-danger is-rounded\",children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"detail/\".concat(user._id),className:\"button is-info is-rounded\",children:\"Detail\"})]})]},user._id);})})]})})]})})});};export default UserList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","UserList","_ref","_ref2","_useState","_useState2","_slicedToArray","users","setUser","getUsers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","stop","apply","arguments","deleteUser","_x","_callee2","id","_callee2$","_context2","delete","concat","t0","console","log","className","children","to","map","user","index","name","email","point","_id","onClick"],"sources":["F:/LBI/FE_BI/src/components/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserList = () => {\r\n  const [users, setUser] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  const getUsers = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/users\");\r\n    setUser(response.data);\r\n  };\r\n  const deleteUser = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/users/${id}`);\r\n      getUsers();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"columns is-centered\">\r\n        <div className=\"column is-four-fifths\">\r\n          <Link to={\"add\"} className=\"button is-primary is-rounded\">\r\n            Tambah\r\n          </Link>\r\n          <div className=\"table-container\">\r\n            <table className=\"table is-fullwidth is-striped is-hoverable is-responsive\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No</th>\r\n                  <th>Name</th>\r\n                  <th>Email</th>\r\n                  <th>Point</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map((user, index) => (\r\n                  <tr key={user._id}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{user.name}</td>\r\n                    <td>{user.email}</td>\r\n                    <td>{user.point}</td>\r\n                    <td>\r\n                      <Link to={`edit/${user._id}`} className=\"button is-warning is-rounded\">\r\n                        Edit\r\n                      </Link>\r\n                      <button onClick={()=> deleteUser(user._id)} className=\"button is-danger is-rounded\">\r\n                        Delete\r\n                      </button>\r\n                      <Link to={`detail/${user._id}`} className=\"button is-info is-rounded\">\r\n                        Detail\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}